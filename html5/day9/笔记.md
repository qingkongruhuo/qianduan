# jQuery 第三天

## 一、jQuery

### 1.1 呼吸轮播图

轮播图：carousel

 呼吸轮播变种布局重点：所有的图片摞一起。

 jquery选择元素的能力非常好，但是我们习惯将用到的元素，提前保存到变量。通常我们使用id选中元素。一般

我们以$box。

 左右按钮防流氓的策略：当图片运动时，不进行任何操作。is()

 小圆点的防流氓的策略：立即响应新事件。stop(true)

### 1.2 函数节流

它可以对一些频繁触发的事件行为进行一些限制，可以使函数在某一时间内或者是当满足一定的条件的时候才去执行

 首先，定义锁，其默认是一个true var lock = false;

 当lock = false的时候，函数是可以执行的

 如果当lock = true 的时候， 函数是不可以执行的

延时器：延时器可以看做是一个定时炸弹，在一定的时间内只会执行一次

 使用方式：setTimeout(fn, time)

 fn：要执行的函数

 time：延迟的时间 单位也是ms

函数节流通常分为两类：基于操作的节流（也被称为防抖），基于时间的节流

```js
// 定义数字
var num = 0;
// 定义函数
function demo() {
    console.log(++num)
}
// 基于操作的节流：  防抖
// 定义定时器句柄
// var timebar;
// 高频时间 
// window.onscroll = function() {
//     // 执行函数
//     // demo();
//     // 基于操作的，在高频事件中，执行最后一次。
//     // 将函数放在定时器中，每次触发事件，取消执行，
//     // clearTimeout(timebar)
//     // 直到最后一次
//     // timebar = setTimeout(demo, 200)
//     // 这种基于操作的节流也被称为防抖

//     // 使用防抖函数
//     throttle(demo)
// }
// // 封装防抖(节流)函数
// function throttle(fn) {
//     // 清除定时器，
//     clearTimeout(fn.__timebar);
//     // 执行定时器
//     // 函数也属于对象，因此可以添加属性
//     fn.__timebar = setTimeout(fn, 200);
// }

// 定义锁
// var lock = false;
// 基于时间的节流
window.onscroll = function() {
    // 为true的时候不能执行
    // if (lock) {
    //     return;
    // }
    // // 设置锁
    // lock = true;
    // // demo();
    // // 在1秒之内，无论出发多少次，只能执行一次。
    // demo();
    // // 启动定时器
    // setTimeout(function() {
    //     // 解除锁
    //     lock = false;
    // }, 1000)

    // 节流函数
    throttle(demo);
}

// 节流器方法
function throttle(fn) {
    // 在函数自身添加锁
    if (fn.__lock) {
        // 被锁住了就不能执行
        return;
    }
    // 添加锁
    fn.__lock = true;
    // 执行函数
    fn();
    // 1秒之后解锁
    setTimeout(function() {
        fn.__lock = false;
    }, 1000)
}
```



### 1.3 Highcharts

Highcharts是一款纯javascript编写的图表库，能够很简单便捷的在Web网站或Web应用中添加交互性的图表，

Highcharts目前支持直线图、曲线图、面积图、柱状图、饼图、散点图等多达18种不同类型的图表，可以满足你对Web图表的任何需求 ！Highcharts 的运行需要两个 JS 文件， highcharts.js 及 jQuery 、 MooTools 、Prototype 、Highcharts Standalone Framework 常用 JS 框架中的一个。

**组成部分**

•Title：图表标题，包含标题和副标题（subTitle），其中副标题是非必须的。

•Axis：坐标轴，包含x轴（xAxis）和y轴（yAxis）

•Series：数据列。图表上一个或多个数据系列，比如曲线图中的一条曲线

•Tooltip：数据提示框。当鼠标悬停在某点上时，以框的形式提示该点的数据

•Legend：图例。用不同形状、颜色、文字等 标示不同数据列，点击标示可以显隐该数据列。

•Credits：图表版权信息。

•Exporting：导出功能按钮。须引入 exporting.js。

•PlotLines：标示线（或辅助线）。

•PlotBands：标示区域（分辨带）。

## 二、代码规范

 1 使用 4 个空格做为一个缩进层级

 2 switch 下的 case 和 default 必须增加一个缩进层级。

 3 二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。

 4 用作代码块起始的左花括号 { 前必须有一个空格。

 5 if / else / for / while / function / switch / do / try / catch / finally 关键字后，必须有一个空格。

 6 在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。

 7 函数声明、匿名函数表达式、函数调用中，函数名和 ( 之间不允许有空格。

 8 , 和 ; 前不允许有空格。不得省略语句结束的分号。

 9 在函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，单行声明的数组与

对象，如果包含元素，() 和 [] 内紧贴括号部分不允许有空格。

 10 每个独立语句结束后必须换行。

 11 在函数声明、函数表达式、函数调用、对象创建、数组创建、for语句等场景中，不允许在 , 或 ; 前换行。

 12 不同行为或逻辑的语句集，使用空行隔开，更易阅读。

 13 在 if / else / for / do / while 语句中，即使只有一行，也不得省略块 {...}。

 14 函数定义结束不允许添加分号。IIFE 必须在函数表达式外添加 (，非 IIFE 不得在函数表达式外添加 ( 。

 15 页面中script标签与左侧缩进4个空格，script标签内部的代码不缩进，与script在同一列